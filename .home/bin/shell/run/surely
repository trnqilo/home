#!/usr/bin/env bash
set -e

# function multi_select {
#   [[ ! $1 ]] && exit 1; choices=($@)
#   for (( index = 0 ; index < ${#choices[@]} ; ++index )) ; do
#     echo "$index ${choices[index]}"
#   done

#   read -p '' selection
#   selection=($selection)
#   for (( index = 0; index < ${#selection[@]} ; ++index )) ; do
#       $do ${choices[selection[index]]}
#   done
# }

[[ "$surely" == 'skip' ]] && exit ||:
[[ "$1" == 'sure' ]] && surely=sure && shift ||:
[[ "$surely" == 'sure' ]] && choices='[Y/n]' || choices='[y/N]'
message="${@:-proceed}"; read -p "$message? $choices " selection
[[ "$surely" == 'sure' ]] && selection="${selection:-y}" ||:
[[ "`to lower $selection`" =~ ^y(es)?$ ]] || exit 1
